<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8">
		<title>James' Magic Shop</title>
		<link rel="stylesheet" type="text/css" href="static/css/blueprint.css">
		<link rel="stylesheet" type="text/css" href="static/css/style.css">
		<script type="text/javascript" src="static/js/jquery.js"></script>
		<script type="text/javascript" src="static/js/jquery-ui.js"></script>
		<script type="text/javascript" src="static/js/knockout.js"></script>
		<script type="text/javascript" src="static/js/sammy.js"></script>
		<script type="text/javascript" src="static/js/utils.js"></script>
		<script type="text/javascript" src="static/js/StoreViewModel.js"></script>
		<script type="text/javascript">
			$(document).ready(function() {
				ko.applyBindings(new StoreViewModel());
			});
		</script>
	</head>
	<body>
		<div class="container outer">
			<div class="span-24 header">
				<div class="span-12 header relative">
					<h1 class="title valign-bottom">
						<b>James' Magic Shop</b>
					</h1>
				</div>
				<div class="span-12 last header relative">
					<div class="span-12 last valign-bottom">
						<div class="align-right">
							<a href="" class="light" data-bind="click: goToCart">
								View Cart (<span data-bind="text: StoreViewModel.formatItemCount(cart().length)"></span>)
							</a>
						</div>
						<div class="align-right">
							<form action="" method="PUT" data-bind="submit: function() { startSearch($('#searchText').val()); }">
								<input type="text" placeholder="Search" id="searchText">
								<input type="submit" value="Go">
							</form>
						</div>
					</div>
				</div>
			</div>
			<div class="span-24 bg-cols">
				<div class="span-6">
					<div class="padded">
						<a href="" class="dark" data-bind="click: goToAllCategories, css: { bold: category() == '' }">All Items</a><br><br>
						<div data-bind="foreach: categories">
							<a href="" class="dark" data-bind="text: $data, click: $root.goToCategory, css: { bold: $root.category() == $data }"></a><br>
						</div>
					</div>
				</div>

				<div class="span-18 last"><br></div>

				{% for page in pages %}
				<div class="span-18 last" data-bind="visible: screen() == '{{ page }}'">
					{% include "pages/" + page %}
				</div>
				{% endfor %}

				<div class="span-18 last"><br></div>

			</div>
		</div>
	</body>
</html>
